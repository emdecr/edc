angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(C,u,f,a){var g=a.has("$animateCss")?a.get("$animateCss"):null;return{link:function(s,l,a){var e=f(a.expanding),n=f(a.expanded),i=f(a.collapsing),o=f(a.collapsed),t=!1,d={},r={};function c(a){return t?{width:a.scrollWidth+"px"}:{height:a.scrollHeight+"px"}}function p(){l.removeClass("collapsing").addClass("collapse").css(d),n(s)}function h(){l.css(r),l.removeClass("collapsing").addClass("collapse"),o(s)}!function(){(t=!!("horizontal"in a))?(d={width:""},r={width:"0"}):(d={height:""},r={height:"0"});s.$eval(a.uibCollapse)||l.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(d)}(),s.$watch(a.uibCollapse,function(a){a?function(){if(!l.hasClass("collapse")&&!l.hasClass("in"))return h();u.resolve(i(s)).then(function(){l.css(c(l[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),g?g(l,{removeClass:"in",to:r}).start().finally(h):C.removeClass(l,"in",{to:r}).then(h)},angular.noop)}():l.hasClass("collapse")&&l.hasClass("in")||u.resolve(e(s)).then(function(){l.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),g?g(l,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:c(l[0])}).start().finally(p):C.addClass(l,"in",{css:{overflow:"hidden"},to:c(l[0])}).then(p)},angular.noop)})}}}]);